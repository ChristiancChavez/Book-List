(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{44:function(e,t,o){},45:function(e,t,o){},50:function(e,t,o){},51:function(e,t,o){},52:function(e,t,o){},73:function(e,t,o){},74:function(e,t,o){},75:function(e,t,o){},76:function(e,t,o){},77:function(e,t,o){},78:function(e,t,o){},79:function(e,t,o){},80:function(e,t,o){"use strict";o.r(t);var c=o(0),a=o(1),n=o.n(a),r=o(35),s=o.n(r),i=(o(44),o(15)),u=(o(45),function(e){var t=e.category,o=e.route;return Object(c.jsx)(i.b,{className:"options",to:o,children:t})}),d=(o(50),o(34).v4),j=[{category:"Add Book",id:d(),route:"/home"},{category:"My List",id:d(),route:"/myList"},{category:"Read",id:d(),route:"/read"},{category:"Favorites",id:d(),route:"/favorites"},{category:"Book List",id:d(),route:"/bookList"}],b=function(){return Object(c.jsx)("div",{className:"navbar",children:j.map((function(e){return Object(c.jsx)(u,{category:e.category,route:e.route},e.id)}))})},l=(o(51),function(){return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{className:"header__title",children:"BOOKLIST"}),Object(c.jsx)(b,{})]})}),O=o(6),h=o(14),f=o(34).v4,k=function(e,t){switch(t.type){case"ADD_BOOK":return[].concat(Object(h.a)(e),[{book:t.book.title,author:t.book.author,id:f()}]);case"REMOVE_BOOK":return e.filter((function(e){return e.id!==t.id}));default:return e}},m=Object(a.createContext)(),x=function(e){var t=Object(a.useReducer)(k,[],(function(){var e=localStorage.getItem("BookList");return e?JSON.parse(e):[]})),o=Object(O.a)(t,2),n=o[0],r=o[1],s=Object(a.useState)(JSON.parse(localStorage.getItem("ReadBookList"))||[]),i=Object(O.a)(s,2),u=i[0],d=i[1],j=Object(a.useState)(JSON.parse(localStorage.getItem("ReadBookList"))||[]),b=Object(O.a)(j,2),l=b[0],f=b[1],x=function(e,t,o,c,a,n){var r=e.reduce((function(e,t){var o=Object.values(t)[0];return e=[].concat(Object(h.a)(e),[o])}),[]).includes(t),s=localStorage.getItem(o);if(s){var i=[].concat(Object(h.a)(JSON.parse(s)),[{book:t,author:c,id:a}]);window.localStorage.setItem(o,JSON.stringify(i)),r||n(i)}else window.localStorage.setItem(o,JSON.stringify([].concat(Object(h.a)(e),[{book:t,author:c,id:a}]))),n([].concat(Object(h.a)(e),[{book:t,author:c,id:a}]))};return Object(a.useEffect)((function(){window.localStorage.setItem("BookList",JSON.stringify(n))}),[n]),Object(c.jsx)(m.Provider,{value:{bookList:n,dispatch:r,readBookList:u,addToReadBookList:function(e,t,o){x(u,e,"ReadBookList",t,o,d)},favoritesBookList:l,addToFavoriteBookList:function(e,t,o){x(l,e,"FavoritesBookList",t,o,f)}},children:e.children})},v=(o(52),o(11)),p=o(5),B=o(12),g=function(){v.b.add(p.d);var e=Object(a.useState)(""),t=Object(O.a)(e,2),o=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),i=s[0],u=s[1],d=Object(a.useContext)(m).dispatch;return Object(c.jsx)("div",{className:"search",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d({type:"ADD_BOOK",book:{title:o,author:i}}),n(""),u("")},className:"search-form",children:[Object(c.jsx)("input",{className:"search-form__input",required:!0,name:"title",type:"text",value:o,placeholder:" Book's title",onChange:function(e){return n(e.target.value)}}),Object(c.jsx)("input",{className:"search-form__input",required:!0,name:"author",type:"text",value:i,placeholder:"Book's author",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("button",{className:"search-form__add",type:"submit",children:Object(c.jsx)(B.a,{icon:p.d})})]})})},N=function(){return Object(c.jsx)(g,{})},_=o(23),y=o.n(_),S=o(37),L=o(38),C=o.n(L),w=(o(73),function(e){var t=e.book,o=e.author,n=e.id,r=e.readBook,s=e.favoriteBook,i=e.removeBook,u=e.addBook;v.b.add(p.c,p.b,p.e,p.d);var d=Object(a.useContext)(m).dispatch,j=Object(a.useContext)(m),b=j.addToReadBookList,l=j.addToFavoriteBookList,h=Object(a.useState)(!1),f=Object(O.a)(h,2),k=f[0],x=f[1],g=Object(a.useState)(!1),N=Object(O.a)(g,2),_=N[0],y=N[1],S=Object(a.useState)(!1),L=Object(O.a)(S,2),C=L[0],w=L[1];return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsxs)("div",{className:"card-book",children:[Object(c.jsx)("h1",{className:"card-book__info",children:t}),Object(c.jsx)("h2",{className:"card-book__info",children:o})]}),Object(c.jsxs)("div",{className:"card-interaction",children:[r&&Object(c.jsx)("button",{className:"card-interaction__icon",onClick:function(){return function(e,t,o){b(e,t,o),x(!0),d({type:"REMOVE_BOOK",id:o})}(t,o,n)},children:Object(c.jsx)(B.a,{icon:p.b,className:k?"selected":""})}),s&&Object(c.jsx)("button",{className:"card-interaction__icon",onClick:function(){return function(e,t,o){l(e,t,o),y(!0)}(t,o,n)},children:Object(c.jsx)(B.a,{icon:p.e,className:_?"selected":""})}),u&&Object(c.jsx)("button",{className:"card-interaction__icon",onClick:function(){return function(e,t){d({type:"ADD_BOOK",book:{title:e,author:t}}),w(!0)}(t,o)},children:Object(c.jsx)(B.a,{icon:p.d,className:C?"selected":""})}),i&&Object(c.jsx)("button",{className:"card-interaction__icon",onClick:function(){return function(e){d({type:"REMOVE_BOOK",id:e})}(n)},children:Object(c.jsx)(B.a,{icon:p.c})})]})]})}),I=(o(74),function(e){var t=e.message;return Object(c.jsx)("div",{className:"error",children:Object(c.jsx)("span",{children:t})})}),R=(o(75),function(){v.b.add(p.a);var e=Object(a.useState)([]),t=Object(O.a)(e,2),o=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),i=s[0],u=s[1],d="https://www.googleapis.com/books/v1/volumes?q=".concat(i),j=function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(d).then((function(e){return e.data})).catch((function(e){console.error(e)}));case 2:t=e.sent,n(t.items);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"book-list",children:[Object(c.jsx)("input",{className:"book-list__search",required:!0,name:"search",value:i,placeholder:"Book's keyword",onChange:function(e){return u(e.target.value)},type:"text"}),Object(c.jsx)("button",{className:"book-list__icon",onClick:j,children:Object(c.jsx)(B.a,{icon:p.a})}),o.length?Object(c.jsx)("div",{className:"book-list__books",children:o.map((function(e){return Object(c.jsx)(w,{book:e.volumeInfo.title,author:e.volumeInfo.authors?e.volumeInfo.authors[0]:"No author",id:e.id,readBook:!0,favoriteBook:!0,removeBook:!1,addBook:!0},e.id)}))}):Object(c.jsx)(I,{message:"That keyword doesn't match with any book"})]})}),J=(o(76),function(){var e=Object(a.useContext)(m).bookList;return e.length?Object(c.jsx)("div",{className:"list",children:e.map((function(e){return Object(c.jsx)(w,{book:e.book,author:e.author,id:e.id,readBook:!0,favoriteBook:!1,removeBook:!0,addBook:!1},e.id)}))}):Object(c.jsx)(I,{message:"You haven't add books yet"})}),D=(o(77),function(){var e=Object(a.useContext)(m).readBookList;return e.length?Object(c.jsx)("div",{className:"read-list",children:e.map((function(e){return Object(c.jsx)(w,{book:e.book,author:e.author,id:e.id,readBook:!1,favoriteBook:!0,removeBook:!1,addBook:!1},e.id)}))}):Object(c.jsx)(I,{message:"You haven't add books yet"})}),E=(o(78),function(){var e=Object(a.useContext)(m).favoritesBookList;return e.length?Object(c.jsx)("div",{className:"favorites",children:e.map((function(e){return Object(c.jsx)(w,{book:e.book,author:e.author,id:e.id,readBook:!1,favoriteBook:!1,removeBook:!1,addBook:!1},e.id)}))}):Object(c.jsx)(I,{message:"You haven't add books yet"})}),F=o(3),T=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(F.c,{children:[Object(c.jsx)(F.a,{exact:!0,path:"/home",component:N}),Object(c.jsx)(F.a,{exact:!0,path:"/bookList",component:R}),Object(c.jsx)(F.a,{exact:!0,path:"/myList",component:J}),Object(c.jsx)(F.a,{exact:!0,path:"/read",component:D}),Object(c.jsx)(F.a,{exact:!0,path:"/favorites",component:E})]})})};o(79);var K=function(){return Object(c.jsx)(x,{children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(l,{}),Object(c.jsx)(T,{})]})})},M=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,81)).then((function(t){var o=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;o(e),c(e),a(e),n(e),r(e)}))};s.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(i.a,{children:Object(c.jsx)(K,{})})}),document.getElementById("root")),M()}},[[80,1,2]]]);
//# sourceMappingURL=main.7de4b36e.chunk.js.map